import{d as h,u as z,r as p,o as B,a as D,b as E,c as F,e as s,f as o,w as l,g as r,h as I,t as L,i,j as M,k as N,s as S,l as U,m as j,n as A,p as m,E as c,q as K,v as R,_ as T}from"./index-BwdTnk9D.js";const Y={class:"login-container"},G={class:"login-wrapper"},H={class:"info-panel"},J={class:"logo"},O={class:"features"},P={class:"feature-item"},Q={class:"feature-item"},W={class:"feature-item"},X={class:"login-form-container"},Z={class:"login-options"},$={class:"login-footer"},ee=h({__name:"Login",setup(se){const f=D(),V=K(),g=z(),u=p();B(()=>{g.isAuthenticated()&&f.push("/")});const t=E({username:"",password:""}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度应为3到20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度应为6到20个字符",trigger:"blur"}]},a=p(!1),_=p(!1),v=async()=>{u.value&&await u.value.validate(async b=>{if(b){a.value=!0;try{if(g.login(t.username,t.password)){c.success("登录成功，欢迎回来！");const n=V.query.redirect||"/";f.push(n)}else c.error("用户名或密码错误")}catch(e){console.error("登录失败:",e),c.error("登录失败，请稍后重试")}finally{a.value=!1}}})};return(b,e)=>{const n=r("el-icon"),w=r("el-input"),x=r("el-form-item"),q=r("el-checkbox"),y=r("el-button"),C=r("el-form");return R(),F("div",Y,[s("div",G,[s("div",H,[s("div",J,[o(n,{class:"logo-icon"},{default:l(()=>[o(i(M))]),_:1}),e[3]||(e[3]=s("span",null,"周报管理系统",-1))]),e[7]||(e[7]=s("h2",{class:"welcome-text"},"欢迎回来",-1)),e[8]||(e[8]=s("p",{class:"description"}," 高效管理和跟踪团队工作进度，让团队协作更加便捷 ",-1)),s("div",O,[s("div",P,[o(n,null,{default:l(()=>[o(i(N))]),_:1}),e[4]||(e[4]=s("span",null,"高效创建周报",-1))]),s("div",Q,[o(n,null,{default:l(()=>[o(i(S))]),_:1}),e[5]||(e[5]=s("span",null,"快速检索历史记录",-1))]),s("div",W,[o(n,null,{default:l(()=>[o(i(U))]),_:1}),e[6]||(e[6]=s("span",null,"可视化工作进度",-1))])]),e[9]||(e[9]=s("div",{class:"decoration"},[s("img",{src:"https://cdn.jsdelivr.net/gh/bwks/static@master/undraw_report_analysis.svg",alt:"报表分析"})],-1))]),s("div",X,[e[14]||(e[14]=s("div",{class:"login-header"},[s("h1",null,"登录账号"),s("p",null,"请输入您的账号信息以继续访问")],-1)),o(C,{ref_key:"loginForm",ref:u,model:t,rules:k,"status-icon":"",onKeyup:I(v,["enter"]),class:"login-form"},{default:l(()=>[o(x,{prop:"username"},{default:l(()=>[o(w,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=d=>t.username=d),placeholder:"用户名","prefix-icon":i(j),clearable:"",disabled:a.value,size:"large"},null,8,["modelValue","prefix-icon","disabled"])]),_:1}),o(x,{prop:"password"},{default:l(()=>[o(w,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d),type:"password",placeholder:"密码","prefix-icon":i(A),"show-password":"",clearable:"",disabled:a.value,size:"large"},null,8,["modelValue","prefix-icon","disabled"])]),_:1}),s("div",Z,[o(q,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=d=>_.value=d),disabled:a.value},{default:l(()=>e[10]||(e[10]=[m("记住我")])),_:1},8,["modelValue","disabled"]),o(y,{type:"text",link:""},{default:l(()=>e[11]||(e[11]=[m("忘记密码？")])),_:1})]),o(y,{type:"primary",class:"login-button",loading:a.value,onClick:v,size:"large"},{default:l(()=>e[12]||(e[12]=[m(" 登录系统 ")])),_:1},8,["loading"]),e[13]||(e[13]=s("div",{class:"login-tips"},null,-1))]),_:1},8,["model"]),s("div",$,[s("p",null,"© "+L(new Date().getFullYear())+" 周报管理系统 - 版权所有",1)])])])])}}}),le=T(ee,[["__scopeId","data-v-01484cce"]]);export{le as default};
